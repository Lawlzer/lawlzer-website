@import 'tailwindcss';
/* @plugin 'tailwindcss-animate'; - Removed, now configured in postcss.config.mjs */

/* Define custom dark variant based on .dark class (Keep if needed for manual toggle, otherwise remove) */
/* @custom-variant dark (&:where(.dark, .dark *)); */ /* Commenting out for now, focusing on prefers-color-scheme */

/* Define theme variables using standard CSS custom properties */
:root {
	/* Light Mode Defaults */
	--page-background: #ffffff;
	--primary-text-color: #111827;
	--primary-color: #3c33e6;
	--secondary-colour: #f3f4f6;
	--secondary-text-color: #6b7280;
	--custom-border-color: #e5e7eb;

	/* Derived/semantic colors (Light Mode) */
	--primary-foreground-color: #ffffff;
	--secondary-foreground-color: #111827;
	--muted-foreground-color: #6b7280;
	--accent-foreground-color: #ffffff;
	--destructive-color: #ef4444;
	--destructive-foreground-color: #ffffff;
	--ring-color: #6366f1;
	--popover-background: #ffffff;
	--popover-foreground-color: #111827;

	/* Map semantic colors */
	--background: var(--page-background);
	--foreground: var(--primary-text-color);
	--card: var(--page-background);
	--card-foreground: var(--primary-text-color);
	--popover: var(--popover-background);
	--popover-foreground: var(--popover-foreground-color);
	--primary: var(--primary-color);
	--primary-foreground: var(--primary-foreground-color);
	--secondary: var(--secondary-colour);
	--secondary-foreground: var(--secondary-foreground-color);
	--muted: var(--secondary-colour);
	--muted-foreground: var(--muted-foreground-color);
	--accent: var(--primary-color);
	--accent-foreground: var(--accent-foreground-color);
	--destructive: var(--destructive-color);
	--destructive-foreground: var(--destructive-foreground-color);
	--border: var(--custom-border-color);
	--input: var(--secondary-colour);
	--ring: var(--ring-color);
	--secondary-text: var(--secondary-text-color);

	/* Spacing scale */
	--spacing-xs: 0.25rem;
	--spacing-sm: 0.5rem;
	--spacing-md: 1rem;
	--spacing-lg: 1.5rem;
	--spacing-xl: 2rem;
	--spacing-2xl: 3rem;
	--spacing-3xl: 4rem;

	/* Border radius */
	--radius: 0.5rem;
	--radius-sm: 0.25rem;
	--radius-md: 0.5rem;
	--radius-lg: 0.75rem;
	--radius-xl: 1rem;
	--radius-full: 9999px;

	/* Shadows */
	--shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
	--shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
	--shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
	--shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
	--shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);

	/* Transitions */
	--transition-fast: 150ms ease-in-out;
	--transition-base: 200ms ease-in-out;
	--transition-slow: 300ms ease-in-out;

	/* Typography scale */
	--font-size-xs: 0.75rem;
	--font-size-sm: 0.875rem;
	--font-size-base: 1rem;
	--font-size-lg: 1.125rem;
	--font-size-xl: 1.25rem;
	--font-size-2xl: 1.5rem;
	--font-size-3xl: 1.875rem;
	--font-size-4xl: 2.25rem;
	--font-size-5xl: 3rem;

	/* Line heights */
	--line-height-tight: 1.25;
	--line-height-snug: 1.375;
	--line-height-normal: 1.5;
	--line-height-relaxed: 1.625;
	--line-height-loose: 2;
}

@media (prefers-color-scheme: dark) {
	:root {
		/* Dark Mode Defaults */
		--page-background: #0f172a;
		--primary-text-color: #f8fafc;
		--primary-color: #6366f1;
		--secondary-colour: #1e293b;
		--secondary-text-color: #94a3b8;
		--custom-border-color: #334155;

		/* Derived/semantic colors (Dark Mode) */
		--primary-foreground-color: #f8fafc;
		--secondary-foreground-color: #f8fafc;
		--muted-foreground-color: #94a3b8;
		--accent-foreground-color: #f8fafc;
		--destructive-color: #f87171;
		--destructive-foreground-color: #0f172a;
		--ring-color: #8b5cf6;
		--popover-background: #1e293b;
		--popover-foreground-color: #f8fafc;

		/* Shadows - softer for dark mode */
		--shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.25);
		--shadow: 0 1px 3px 0 rgb(0 0 0 / 0.3), 0 1px 2px -1px rgb(0 0 0 / 0.3);
		--shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.3), 0 2px 4px -2px rgb(0 0 0 / 0.3);
		--shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.3), 0 4px 6px -4px rgb(0 0 0 / 0.3);
		--shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.3), 0 8px 10px -6px rgb(0 0 0 / 0.3);
	}
}

/* Define utilities based on theme variables for use with @apply */
/* Keep these as they map Tailwind concepts to our CSS variables */
@utility bg-background {
	@apply bg-[var(--background)];
}
@utility text-foreground {
	@apply text-[var(--foreground)];
}
@utility border-border {
	@apply border-[var(--border)];
}
@utility text-primary {
	@apply text-[var(--primary)];
}
@utility bg-secondary {
	@apply bg-[var(--secondary)];
}
@utility text-secondary-foreground {
	@apply text-[var(--secondary-foreground)];
}
@utility text-muted-foreground {
	@apply text-[var(--muted-foreground)];
}
@utility bg-primary {
	@apply bg-[var(--primary)];
}
@utility text-primary-foreground {
	@apply text-[var(--primary-foreground)];
}
@utility ring-ring {
	@apply ring-[var(--ring)];
}
@utility bg-popover {
	@apply bg-[var(--popover)];
}
@utility text-popover-foreground {
	@apply text-[var(--popover-foreground)];
}
@utility divide-border {
	@apply divide-[var(--border)];
}
@utility bg-accent {
	@apply bg-[var(--accent)];
}
@utility text-accent-foreground {
	@apply text-[var(--accent-foreground)];
}
@utility bg-muted {
	@apply bg-[var(--muted)];
}
@utility text-secondary-text {
	@apply text-[var(--secondary-text)];
}
@utility bg-input {
	@apply bg-[var(--input)];
}
@utility border-primary {
	@apply border-[var(--primary)];
}

/* Apply base styles */
@layer base {
	* {
		/* Better box-sizing */
		box-sizing: border-box;
	}

	html {
		/* Smooth scrolling */
		scroll-behavior: smooth;
		/* Better text rendering */
		text-rendering: optimizeLegibility;
	}

	body {
		@apply bg-background text-foreground;
		/* Improve font rendering */
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		/* Default font family */
		font-family:
			system-ui,
			-apple-system,
			BlinkMacSystemFont,
			'Segoe UI',
			Roboto,
			'Helvetica Neue',
			Arial,
			sans-serif;
		/* Base line height */
		line-height: var(--line-height-normal);
		/* Prevent layout shift from scrollbar */
		overflow-y: scroll;
	}

	/* Control color transitions */
	:root {
		transition:
			background-color var(--transition-base),
			color var(--transition-base),
			border-color var(--transition-base);
	}

	/* Class to pause color transitions during initial load */
	.color-transition-paused {
		transition: none !important;
	}

	/* Typography improvements */
	h1,
	h2,
	h3,
	h4,
	h5,
	h6 {
		@apply font-semibold tracking-tight;
		line-height: var(--line-height-tight);
		margin-top: 0;
		margin-bottom: var(--spacing-md);
	}

	h1 {
		font-size: var(--font-size-4xl);
		margin-bottom: var(--spacing-lg);
	}
	h2 {
		font-size: var(--font-size-3xl);
		margin-top: var(--spacing-xl);
	}
	h3 {
		font-size: var(--font-size-2xl);
		margin-top: var(--spacing-lg);
	}
	h4 {
		font-size: var(--font-size-xl);
	}
	h5 {
		font-size: var(--font-size-lg);
	}
	h6 {
		font-size: var(--font-size-base);
	}

	/* Paragraph spacing */
	p {
		margin-bottom: var(--spacing-md);
		line-height: var(--line-height-relaxed);
	}

	/* Link styles */
	a {
		@apply text-primary;
		text-decoration: none;
		position: relative;
		transition: color var(--transition-fast);
	}

	a:hover {
		filter: brightness(1.2);
	}

	/* Button base styles */
	button {
		@apply font-medium;
		cursor: pointer;
		transition: all var(--transition-fast);
		border-radius: var(--radius);
		padding: var(--spacing-sm) var(--spacing-md);
	}

	button:hover {
		filter: brightness(0.95);
		transform: translateY(-1px);
	}

	button:active {
		transform: translateY(0);
	}

	/* Input styles */
	input,
	textarea,
	select {
		@apply border-border bg-input;
		border-width: 1px;
		border-radius: var(--radius);
		padding: var(--spacing-sm) var(--spacing-md);
		transition: all var(--transition-fast);
		width: 100%;
	}

	input:focus,
	textarea:focus,
	select:focus {
		@apply ring-ring border-primary;
		outline: none;
		box-shadow: 0 0 0 3px rgb(99 102 241 / 0.1);
	}

	/* Code blocks */
	code {
		@apply bg-muted text-sm;
		padding: 0.125rem 0.25rem;
		border-radius: var(--radius-sm);
		font-family: 'Menlo', 'Monaco', 'Consolas', 'Liberation Mono', 'Courier New', monospace;
	}

	pre {
		@apply bg-muted;
		padding: var(--spacing-md);
		border-radius: var(--radius);
		overflow-x: auto;
		margin-bottom: var(--spacing-md);
	}

	pre code {
		background: transparent;
		padding: 0;
	}

	/* Lists */
	ul,
	ol {
		margin-bottom: var(--spacing-md);
		padding-left: var(--spacing-lg);
	}

	li {
		margin-bottom: var(--spacing-xs);
	}

	/* Selection color */
	::selection {
		background-color: var(--primary);
		color: var(--primary-foreground);
		opacity: 0.9;
	}
}

/* Keep existing utilities or add new ones */
@layer utilities {
	/* All custom utility classes removed as they were unused in provided files */
}
